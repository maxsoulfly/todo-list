(()=>{"use strict";var t={56:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},72:t=>{var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var o={},i=[],s=0;s<t.length;s++){var d=t[s],l=r.base?d[0]+r.base:d[0],c=o[l]||0,p="".concat(l," ").concat(c);o[l]=c+1;var u=e(p),g={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)n[u].references++,n[u].updater(g);else{var m=a(g,r);r.byIndex=s,n.splice(s,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function a(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,a){var o=r(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var s=e(o[i]);n[s].references--}for(var d=r(t,a),l=0;l<o.length;l++){var c=e(o[l]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}o=d}}},113:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},208:(t,n,e)=>{e.d(n,{A:()=>s});var r=e(601),a=e.n(r),o=e(314),i=e.n(o)()(a());i.push([t.id,'/* ===========================================================\n\tBase Styles / Reset\n\t-----------------------------------------------------------\n\tBasic resets, font settings, and default element styles.\n=========================================================== */\n\n:root {\n\t/* Color variables for theming */\n\t--accent-color       : hsl(122 39% 49%);\n\t--success-clr        : var(--accent-color);\n\t--danger-clr         : hsl(0, 94%, 57%);\n\t--warning-clr        : hsl(43 100% 63%);\n\t--todo-clr           : hsl(0 0% 80%);\n\t--in-progress-clr    : hsl(33 100% 50%);\n\t--done-clr           : hsl(from var(--accent-color) h s 70%);\n\t--priority-null-clr  : hsl(0 0% 27%);\n\t--priority-low-clr   : var(--accent-color);\n\t--priority-medium-clr: hsl(from var(--warning-clr) h s l);\n\t--priority-high-clr  : hsl(from var(--danger-clr) h s l);\n\t--bg-clr             : hsl(0 0% 7%);\n\t--dragging-clr       : hsl(0 0% 50%);\n\t--fg-clr             : hsl(0 0% 93%);\n\t--column-bg          : hsl(from var(--bg-clr) h s 13%);\n\t--border-clr         : hsl(0 0% 20%);\n\t--input-bg           : var(--bg-clr);\n\t--input-border       : hsl(from var(--bg-clr) h s 33%);\n}\n\n/* ===========================================================\n\tTheming (Dark/Light)\n\t-----------------------------------------------------------\n\tTheme overrides for light mode.\n=========================================================== */\n\nbody[data-theme="light"] {\n\t--accent-color       : hsl(122 39% 40%);\n\t--success-clr        : var(--accent-color);\n\t--danger-clr         : hsl(0, 70%, 50%);\n\t--warning-clr        : hsl(43, 100%, 50%);\n\t--todo-clr           : hsl(0, 0%, 11%);\n\t--in-progress-clr    : hsl(33 100% 40%);\n\t--done-clr           : hsl(from var(--accent-color) h s 20%);\n\t--priority-null-clr  : hsl(0 0% 65%);\n\t--priority-low-clr   : var(--accent-color);\n\t--priority-medium-clr: hsl(from var(--warning-clr) h s l);\n\t--priority-high-clr  : hsl(from var(--danger-clr) h s l);\n\t--bg-clr             : hsl(0 0% 98%);\n\t--fg-clr             : hsl(0 0% 10%);\n\t--dragging-clr       : hsl(0 0% 50%);\n\t--column-bg          : hsl(from var(--bg-clr) h s 90%);\n\t--border-clr         : hsl(0 0% 80%);\n\t--input-bg           : var(--bg-clr);\n\t--input-border       : hsl(from var(--bg-clr) h s 80%);\n}\n\nbody {\n\tfont-family     : monospace;\n\tbackground-color: var(--bg-clr);\n\tcolor           : var(--fg-clr);\n\tmargin          : 0;\n\tdisplay         : flex;\n\tflex-direction  : row;\n\talign-items     : flex-start;\n\tmin-height      : 100vh;\n}\n\n/* ===========================================================\n\tTypography\n\t-----------------------------------------------------------\n\tFont sizes, weights, and text decorations.\n=========================================================== */\n\n.project-column h2 {\n\tdisplay        : flex;\n\tjustify-content: space-between;\n\talign-items    : center;\n\tmargin         : 0;\n\tfont-size      : 1.5rem;\n\tcolor          : var(--fg-clr);\n}\n\n.task-list p {\n\tfont-size: 1rem;\n}\n\n.project-controls span,\n.task-controls span {\n\tcolor      : var(--in-progress-clr);\n\tfont-size  : 0.9rem;\n\tuser-select: none;\n}\n\n.due-date-badge {\n\tfont-size: 0.7rem;\n}\n\n.sidebar-project-item {\n\tfont-size: large;\n}\n\n/* ===========================================================\n\tLayout and Containers\n\t-----------------------------------------------------------\n\tMain containers, flex layouts, and spacing.\n=========================================================== */\n\n#main-container {\n\tflex-grow : 1;\n\ttransition: margin-left 0.3s ease;\n}\n\n#app {\n\tdisplay   : flex;\n\toverflow-x: auto;\n\tgap       : .5rem;\n\tflex-grow : 1;\n\tpadding   : 2rem;\n\ttransition: margin-left 0.3s ease;\n}\n\n.project-column {\n\tdisplay         : flex;\n\tflex-direction  : column;\n\tgap             : 0.25rem;\n\tbackground-color: var(--column-bg);\n\tpadding         : 1rem 1rem 2rem 1rem;\n\tborder          : 1px solid var(--border-clr);\n\tborder-radius   : 8px;\n\tmin-width       : 250px;\n\tflex-shrink     : 0;\n}\n\n.subtask-list {\n\tmargin-left: 3em;\n}\n\n#sidebar {\n\tposition      : relative;\n\tdisplay       : flex;\n\tflex-direction: column;\n\twidth         : 220px;\n\tbackground    : var(--column-bg);\n\tcolor         : var(--fg-clr);\n\tpadding       : 1rem;\n\tbox-sizing    : border-box;\n\ttransition    : width 0.3s ease, padding 0.3s ease;\n\tmargin        : 0;\n\tgap           : 0;\n\tmin-height    : 100vh;\n}\n\n#project-list {\n\tflex-grow : 1;\n\toverflow-y: auto;\n\tmargin    : 0;\n\tpadding   : 0;\n\tlist-style: none;\n}\n\n/* ===========================================================\n\tButtons and Controls\n\t-----------------------------------------------------------\n\tButton styles, input fields, and interactive controls.\n=========================================================== */\n\nbutton {\n\tbackground-color: var(--column-bg);\n\tcolor           : var(--fg-clr);\n\tborder          : 1px solid var(--border-clr);\n\tpadding         : 0.5rem 1rem;\n\tfont-family     : monospace;\n\tfont-size       : 1rem;\n\tcursor          : pointer;\n\tborder-radius   : 6px;\n\ttransition      : background-color 0.2s ease;\n}\n\n#add-project-btn {\n\tmargin-bottom: 1rem;\n\tposition     : sticky;\n\ttop          : 1rem;\n\tz-index      : 10;\n}\n\n#add-project-btn:hover {\n\tbackground-color: var(--input-border);\n}\n\n#add-project-bar {\n\tmargin-bottom: 1rem;\n\tpadding-top  : 2.5rem;\n\tborder-bottom: 1px solid var(--input-border);\n}\n\n#add-project-input {\n\tfont-family     : monospace;\n\tfont-size       : 1rem;\n\tpadding         : 0.5rem;\n\tbackground-color: var(--input-bg);\n\tborder          : 1px solid var(--input-border);\n\tcolor           : var(--fg-clr);\n\tborder-radius   : 6px;\n\twidth           : 100%;\n\tbox-sizing      : border-box;\n}\n\ninput[type="text"] {\n\twidth           : 100%;\n\tbox-sizing      : border-box;\n\tfont-family     : monospace;\n\tfont-size       : 1rem;\n\tmargin-top      : 0.5rem;\n\tpadding         : 0.5rem;\n\tbackground-color: var(--input-bg);\n\tborder          : 1px solid var(--input-border);\n\tcolor           : var(--fg-clr);\n}\n\ninput.edit-title-input,\ninput[type="text"] {\n\tbackground-color: var(--input-bg);\n\tborder          : 1px solid var(--input-border);\n\tcolor           : var(--fg-clr);\n}\n\n.edit-title-input {\n\tdisplay    : flex;\n\talign-self : center;\n\tmargin-top : 0;\n\tfont-size  : 1rem;\n\tpadding    : 0.2rem 0.4rem;\n\tline-height: 1.2;\n}\n\n.status-toggle {\n\tcolor          : inherit;\n\tfont-weight    : normal;\n\ttext-decoration: none;\n\tcursor         : pointer;\n\toverflow-wrap  : normal;\n}\n\n.status-toggle:hover {\n\ttext-shadow: 0 0 8px var(--warning-clr);\n\tcolor      : var(--warning-clr);\n}\n\n.project-controls span,\n.task-controls span {\n\tcolor      : var(--in-progress-clr);\n\tfont-size  : 0.9rem;\n\tuser-select: none;\n}\n\n.project-controls span:hover,\n.task-controls span:hover {\n\ttext-shadow: 0 0 8px var(--warning-clr);\n\tcursor     : pointer;\n}\n\n/* ===========================================================\n\tTask and Subtask Styles\n\t-----------------------------------------------------------\n\tStyles for tasks, subtasks, priorities, and badges.\n=========================================================== */\n\n.task-list p {\n\tdisplay        : flex;\n\tjustify-content: space-between;\n\talign-items    : center;\n\tgap            : 0.5rem;\n\tfont-size      : 1rem;\n\tmargin         : 0.25rem 0;\n\tpadding        : 0.5rem;\n\tflex-wrap      : nowrap;\n\t/* prevents wrapping */\n}\n\n.task-list p:hover {\n\ttransition   : background-color 0.2s ease;\n\tborder-radius: 8px;\n\tcursor       : pointer;\n}\n\n.task-list p.priority-low:hover {\n\tbox-shadow: 0 0 8px var(--priority-low-clr);\n}\n\n.task-list p.priority-medium:hover {\n\tbox-shadow: 0 0 8px var(--priority-medium-clr);\n}\n\n.task-list p.priority-high:hover {\n\tbox-shadow: 0 0 8px var(--priority-high-clr);\n}\n\n.task-list p.priority-null:hover {\n\tbox-shadow: 0 0 8px var(--priority-null-clr);\n}\n\n.task-title {\n\tdisplay    : inline-flex;\n\talign-items: flex-start;\n\tgap        : 0.5rem;\n\twhite-space: nowrap;\n\tflex-wrap  : wrap;\n}\n\n.subtask {\n\tmargin-left: 2rem;\n\topacity    : 0.85;\n}\n\n.status-todo .task-title-text,\n.status-in-progress .task-title-text,\n.status-done .task-title-text {\n\tdisplay       : inline-block;\n\tmax-width     : 12rem;\n\toverflow-wrap : break-word;\n\tword-break    : break-word;\n\twhite-space   : normal;\n\tvertical-align: middle;\n}\n\n.status-todo .task-title-text {\n\tcolor  : var(--todo-clr);\n\topacity: 0.7;\n}\n\n.status-in-progress .task-title-text {\n\tfont-style: italic;\n}\n\n.status-done .task-title-text {\n\ttext-decoration: line-through;\n\topacity        : 0.4;\n}\n\n.task-controls {\n\tmargin-left: auto;\n\talign-self : flex-start;\n}\n\n.task-title,\n.task-controls,\n.project-controls {\n\tdisplay: flex;\n\tgap    : 0.5rem;\n}\n\n.priority-bar {\n\tdisplay       : inline-block;\n\twidth         : 8px;\n\theight        : 1.2em;\n\tvertical-align: middle;\n\tmargin-right  : 0.5rem;\n\tcursor        : pointer;\n\tborder-left   : 8px solid transparent;\n}\n\n.priority-bar.priority-low {\n\tborder-color: var(--priority-low-clr);\n}\n\n.priority-bar.priority-medium {\n\tborder-color: var(--priority-medium-clr);\n}\n\n.priority-bar.priority-high {\n\tborder-color: var(--priority-high-clr);\n}\n\n.priority-bar.priority-null {\n\tborder-color: var(--priority-null-clr);\n}\n\n.due-date-badge {\n\tbackground-color: var(--priority-null-clr);\n\tcolor           : var(--todo-clr);\n\tfont-size       : 0.7rem;\n\tpadding         : 2px 6px;\n\tborder-radius   : 4px;\n\tcursor          : pointer;\n\ttransition      : opacity 0.2s ease;\n}\n\n.due-date-badge[data-empty="true"] {\n\tcolor     : transparent;\n\tbackground: transparent;\n}\n\n.due-date-badge[data-empty="true"]:hover {\n\tcolor : var(--dragging-clr);\n\tborder: 1px dashed var(--dragging-clr);\n\t;\n}\n\n/* ===========================================================\n\tSidebar and Navigation\n\t-----------------------------------------------------------\n\tSidebar, sidebar toggle, and project list styles.\n=========================================================== */\n\n#sidebar-toggle {\n\tposition     : absolute;\n\ttop          : 1rem;\n\tleft         : 1rem;\n\tz-index      : 100;\n\tbackground   : var(--column-bg);\n\tcolor        : var(--fg-clr);\n\tborder       : 1px solid var(--border-clr);\n\tpadding      : 0.25rem 0.5rem;\n\tborder-radius: 0 4px 4px 0;\n\tcursor       : pointer;\n\ttransition   : right 0.3s ease;\n\tfont-size    : large;\n\tright        : -1.5rem;\n\twidth        : 2rem;\n\ttransition   : transform 0.3s ease, opacity 0.3s ease;\n}\n\n#sidebar-toggle:hover {\n\tbackground-color: var(--input-border);\n}\n\n#sidebar.collapsed+#sidebar-toggle {\n\ttransform: rotate(180deg);\n}\n\n#sidebar.collapsed {\n\twidth   : 0;\n\tpadding : 0;\n\toverflow: hidden;\n}\n\n.sidebar-project-item {\n\tcursor       : pointer;\n\tpadding      : 0.5rem;\n\tcolor        : var(--fg-clr);\n\tborder-radius: 4px;\n\tfont-size    : large;\n}\n\n.sidebar-project-item:hover {\n\tbackground-color: var(--input-border);\n}\n\n.project-title {\n\tcursor: move;\n}\n\n.project-hidden {\n\topacity: 0.2;\n}\n\n\n/* ===========================================================\n\tUtilities and Helpers\n\t-----------------------------------------------------------\n\tUtility classes, drag/drop, menu popups, and scrollbars.\n=========================================================== */\n\n/* Drag and drop helpers */\n.task-list .dragging {\n\topacity: 0.4;\n\tborder : 2px dashed var(--dragging-clr);\n}\n\n.drag-over-subtarget {\n\toutline         : 2px dashed var(--accent-color);\n\tbackground-color: rgba(128, 255, 128, 0.05);\n}\n\n.drop-zone {\n\tmin-height: 0.25rem;\n\tpadding   : 0.25rem 0;\n\tborder    : none;\n\ttransition: all 0.1s ease;\n}\n\n.drop-zone.drag-over {\n\tborder          : 2px dashed var(--warning-clr);\n\tborder-radius   : 6px;\n\tmin-height      : 2.5rem;\n\tbackground-color: rgba(255, 255, 255, 0.03);\n}\n\n.task-list>.drop-zone:last-child {\n\tmargin-bottom: 0.2rem;\n}\n\n.project-drop-zone {\n\tmin-width : 0.5rem;\n\tpadding   : 0 0.25rem;\n\tborder    : none;\n\ttransition: all 0.1s ease;\n}\n\n.project-drop-zone.drag-over {\n\tborder          : 2px dashed var(--border-clr);\n\tborder-radius   : 6px;\n\tmin-width       : 5rem;\n\tbackground-color: rgba(255, 255, 255, 0.03);\n}\n\n.project-drop-zone:last-child {\n\tmargin-right: 0.2rem;\n}\n\n/* Menu popups */\n.menu-wrapper {\n\tposition: relative;\n}\n\n.menu-trigger {\n\tvisibility: hidden;\n\tcursor    : pointer;\n\tpadding   : 0 0.5rem;\n}\n\n.project-column h2:hover .menu-trigger,\n.task:hover .menu-trigger {\n\tvisibility: visible;\n}\n\n.menu-popup {\n\tposition     : absolute;\n\ttop          : 100%;\n\tright        : 0;\n\tbackground   : var(--column-bg);\n\tborder       : 1px solid var(--border-clr);\n\tpadding      : 0.25rem 0;\n\tborder-radius: 4px;\n\tdisplay      : none;\n\tz-index      : 20;\n}\n\n.menu-item {\n\tdisplay: block;\n\tpadding: 0.25rem 1rem;\n\tcursor : pointer;\n}\n\n.menu-item:hover {\n\tbackground: var(--input-border);\n}\n\n.menu-wrapper:hover .menu-popup {\n\tdisplay: block;\n}\n\n/* Scrollbar styling */\n::-webkit-scrollbar {\n\twidth : 8px;\n\theight: 16px;\n}\n\n::-webkit-scrollbar-track {\n\tbackground: var(--column-bg);\n}\n\n::-webkit-scrollbar-thumb {\n\tbackground-color: var(--input-border);\n\tborder-radius   : 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n\tbackground-color: var(--fg-clr);\n\tcursor          : pointer;\n}\n\n\n@media (max-width: 600px) {\n\t#app {\n\t\tflex-direction: column;\n\t\tpadding       : 0.5rem;\n\t}\n\n\t.project-column {\n\t\tmin-width       : unset;\n\t\t/* width        : 100vw; */\n\t\tmargin-bottom   : 1.5rem;\n\t\tpadding         : 1rem 0.5rem;\n\t}\n\n\t#sidebar {\n\t\tposition: fixed;\n\t\twidth   : 100vw;\n\t\tz-index : 1000;\n\t\theight  : 100%;\n\t}\n\n\t#sidebar-toggle {\n\t\t/* position : fixed; */\n\t\tleft     : 0rem;\n\t\ttop      : 0.5rem;\n\t\tright    : unset;\n\t\tfont-size: 1.5rem;\n\t\tz-index  : 1100;\n\t}\n\n\tbutton,\n\tinput[type="text"],\n\t.sidebar-project-item {\n\t\tfont-size: 1rem;\n\t\tpadding  : 0.7em 1em;\n\t}\n\n\t.task-list p {\n\t\tfont-size: 0.95rem;\n\t\tpadding  : 0.4rem;\n\t\tflex-wrap: wrap;\n\t}\n\n\t.task-title {\n\t\tgap: 0.3rem;\n\t}\n}\n\n\n/* ===========================================================\n\tEnd of style.css\n=========================================================== */',""]);const s=i},314:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e}).join("")},n.i=function(t,e,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);r&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),e&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=e):c[2]=e),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),n.push(c))}},n}},540:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var a=void 0!==e.layer;a&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,a&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}}},n={};function e(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return t[r](o,o.exports,e),o.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.nc=void 0;const r=()=>crypto.randomUUID(),a=({projects:t=l(),tasks:n=m()}={})=>{localStorage.setItem("todoData",JSON.stringify({projects:t,tasks:n}))},o=[],i=[],s=t=>{if(!t||""===t.trim())throw new Error("Project title cannot be empty");return{id:r(),title:t.trim(),createdAt:(new Date).toISOString(),order:o.length,hidden:!1}},d=t=>{o.push(t)},l=()=>[...o].sort((t,n)=>t.order-n.order),c=t=>l().find(n=>n.id===t),p=({title:t,projectId:n,parentTaskId:e=null,priority:a=null,dueDate:o=null})=>{if(!n||!t||""===t.trim())throw new Error("Project id and title cannot be empty");return{id:r(),projectId:n,title:t.trim(),createdAt:(new Date).toISOString(),parentTaskId:e,priority:a,checklist:[],status:"todo",dueDate:o,order:v(n).length,collapsed:!1}},u=t=>{i.push(t)},g=t=>{const n=i.findIndex(n=>n.id===t);n>-1&&i.splice(n,1)},m=()=>i,v=t=>i.filter(n=>n.projectId===t),f=t=>i.find(n=>n.id===t),h=t=>i.filter(n=>n.parentTaskId===t),b=t=>h(t).length>0,k=t=>f(t).collapsed,y=()=>{o.length=0,i.length=0},x=(t,n)=>{const e=document.createElement("div");return e.classList.add("project-drop-zone"),e.addEventListener("dragover",t=>{t.preventDefault(),e.classList.add("drag-over")}),e.addEventListener("dragleave",t=>{t.preventDefault(),e.classList.remove("drag-over")}),e.addEventListener("drop",r=>{const a=JSON.parse(r.dataTransfer.getData("text/plain"));a.taskId&&$(a.taskId),a.draggedProjectId&&W(a.draggedProjectId,t,n),e.classList.remove("drag-over")}),e},E=(t,n,e,r=null)=>{const a=document.createElement("div");return a.classList.add("drop-zone"),a.addEventListener("dragover",t=>{t.preventDefault(),a.classList.add("drag-over")}),a.addEventListener("dragleave",t=>{t.preventDefault(),a.classList.remove("drag-over")}),a.addEventListener("drop",o=>{w(o,t,n,e,r),a.classList.remove("drag-over")}),a.dataset.projectId=t,a.dataset.targetId=n,a.dataset.isBelow=e,a.dataset.parentTaskId=r,a},w=(t,n,e,r,o=null)=>{const i=JSON.parse(t.dataTransfer.getData("text/plain"));i.draggedProjectId?((t,n)=>{const e=l().find(n=>n.id===t.draggedProjectId);I(e.id,n)})(i,n):((t,n,e,r,o=null)=>{const{taskId:i,fromProjectId:s}=t,d=f(i);f(e),d&&(j(d,e,n,r,s,o),a({projects:l(),tasks:m()}),J())})(i,n,e,r,o)},j=(t,n,e,r,a,o)=>{null===o?C(e,t.id,n,r):A(e,o,t.id,n,r),b(t.id)||(t.parentTaskId=o),t.projectId=e},I=(t,n,e=!1)=>{const r=c(t),o=p({title:r.title,projectId:n}),i=v(t);if(i.length>0&&i.forEach(t=>{t.projectId=n,t.parentTaskId=o.id}),u(o),U(t),e)return o.id;a({projects:l(),tasks:m()}),J()},L=(t,n,e)=>{const r=JSON.parse(t.dataTransfer.getData("text/plain")),o=f(r.taskId);r.taskId&&r.taskId!==n.id&&(b(o.id)||(o.parentTaskId=n.id),o.projectId=e,a({projects:l(),tasks:m()}),J())},T=t=>{t.currentTarget.classList.remove("dragging","drag-over-above","drag-over-below")},D=(t=[])=>{const n=document.createElement("div");n.classList.add("menu-wrapper");const e=document.createElement("span");e.classList.add("menu-trigger"),e.innerText="⋯";const r=document.createElement("div");return r.classList.add("menu-popup","hidden"),t.forEach(({label:t,onClick:n})=>{const e=document.createElement("span");e.classList.add("menu-item"),e.innerText=t,e.addEventListener("click",n),r.appendChild(e)}),n.append(e,r),n},S=t=>new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric"}),z=t=>{h(t).forEach(t=>g(t.id)),g(t),a(),J()},C=(t,n,e,r)=>{const o=m(),i=o.filter(n=>n.projectId===t&&null===n.parentTaskId).sort((t,n)=>t.order-n.order),s=o.find(t=>t.id===n);if(!s)return;const d=i.indexOf(s);let l;if(-1!==d&&i.splice(d,1),e&&e!==n){const t=i.findIndex(t=>t.id===e);l=-1===t?i.length:t+(r?1:0)}else l=i.length;i.splice(l,0,s),i.forEach((t,n)=>t.order=n),a({tasks:o}),J()},A=(t,n,e,r,o)=>{const i=m(),s=i.filter(e=>e.projectId===t&&e.parentTaskId===n).sort((t,n)=>t.order-n.order),d=i.find(t=>t.id===e);if(!d)return;const l=s.indexOf(d);let c;if(-1!==l&&s.splice(l,1),r&&r!==e){const t=s.findIndex(t=>t.id===r);c=-1===t?s.length:t+(o?1:0)}else c=s.length;s.splice(c,0,d),s.forEach((t,n)=>t.order=n),a({tasks:i}),J()},O=(t,n)=>{const e=document.createElement("span");e.classList.add("task-title");const r=((t,n)=>{const e=document.createElement("span");return e.classList.add("priority-bar",`priority-${t.priority}`),e.addEventListener("click",()=>(t=>{m().find(n=>n.id===t.id)&&(t.priority={null:"low",low:"medium",medium:"high",high:null}[t.priority],a(),J())})(t)),e.dataset.taskId=t.id,e.dataset.projectId=n,e.title=`[Priority: ${t.priority}] - Click to toggle priority`,e})(t,n),o=(t=>{const n=document.createElement("span");return n.classList.add("status-toggle"),n.innerText=(t=>"todo"===t.status?"[ ]":"in-progress"===t.status?"[-]":"done"===t.status?"[v]":void 0)(t),n.addEventListener("click",()=>(t=>{const n=m().find(n=>n.id===t.id);n&&("todo"===n.status?n.status="in-progress":"in-progress"===n.status?n.status="done":"done"===n.status&&(n.status="todo"),a(),J())})(t)),n})(t),i=(t=>{const n=document.createElement("span");return n.classList.add("task-title-text"),n.innerText=t.title,n})(t),s=((t,n)=>{const e=document.createElement("span");return e.classList.add("due-date"),e.classList.add("due-date-badge"),e.dataset.taskId=t.id,e.dataset.projectId=n,e.title=t.dueDate?`Due: ${S(t.dueDate)} — Click to change`:"Click to set due date",e.textContent=t.dueDate?S(t.dueDate):"No date",e.addEventListener("click",()=>{(t=>{if(!m().find(n=>n.id===t.id))return;const n=document.createElement("input");n.type="date",n.value=t.dueDate?t.dueDate.split("T")[0]:"",n.classList.add("due-date-input");const e=document.querySelector(`.due-date-badge[data-task-id="${t.id}"]`);function r(){t.dueDate=n.value||null,a(),J()}e.replaceWith(n),n.focus(),n.addEventListener("blur",()=>r()),n.addEventListener("keydown",t=>{"Enter"===t.key&&r(),"Escape"===t.key&&n.replaceWith(e)})})(t)}),t.dueDate||(e.dataset.empty="true"),e})(t,n);return e.append(r,o,i,s),{titleContainer:e,taskTitle:i}},P=(t,n)=>{const e=document.createElement("span");e.classList.add("task-controls");const r=[{label:"Edit",onClick:()=>((t,n)=>{const e=document.createElement("input");e.classList.add("edit-title-input"),e.value=t.title,n.replaceWith(e),e.focus(),e.addEventListener("keydown",n=>((t,n,e)=>{if("Enter"===t.key){if(!e.value||""===e.value.trim())return void J();n.title=e.value.trim(),a(),J()}"Escape"===t.key&&J()})(n,t,e))})(t,n)}];null===t.parentTaskId&&r.push({label:"Add Subtask",onClick:()=>(t=>{const n=document.querySelector(`[data-task-id="${t.id}"]`).nextElementSibling;let e=n.querySelector(".subtask-input");if(e)return void e.focus();const r=document.createElement("input");r.type="text",r.classList.add("subtask-input"),r.placeholder="Enter subtask title...",n.appendChild(r),r.focus(),r.addEventListener("keydown",n=>((t,n,e,r)=>{if("Enter"===t.key&&e.value.trim()){const t=p({title:e.value.trim(),projectId:n,parentTaskId:r});u(t),a(),J()}"Escape"===t.key&&e.remove()})(n,t.projectId,r,t.id))})(t)}),r.push({label:"Delete",onClick:()=>z(t.id)});const o=D(r);if(b(t.id)){const n=(t=>{const n=document.createElement("span");if(k(t.id)){const e=h(t.id).length;n.textContent=`▶︎ (${e})`}else n.textContent="▼";return n.addEventListener("click",n=>{t.collapsed=!t.collapsed,a(),J()}),n})(t);e.append(n)}return e.append(o),e},N=(t,n)=>{const e=document.createElement("p");e.classList.add(`priority-${t.priority}`),e.classList.add(`status-${t.status}`),e.classList.add("task"),((t,n,e)=>{t.setAttribute("draggable","true"),t.dataset.taskId=n.id,t.dataset.projectId=e,t.addEventListener("dragstart",t=>((t,n,e)=>{t.dataTransfer.setData("text/plain",JSON.stringify({taskId:n.id,fromProjectId:e})),t.currentTarget.classList.add("dragging")})(t,n,e)),t.addEventListener("dragend",T)})(e,t,n),t.parentTaskId||((t,n,e)=>{t.addEventListener("dragover",n=>{n.preventDefault(),t.classList.add("drag-over-subtarget")}),t.addEventListener("dragleave",n=>{t.classList.remove("drag-over-subtarget")}),t.addEventListener("drop",r=>{const o=JSON.parse(r.dataTransfer.getData("text/plain"));o.taskId?L(r,n,e):o.draggedProjectId&&((t,n,e)=>{const r=JSON.parse(t.dataTransfer.getData("text/plain")),o=c(r.draggedProjectId),i=I(o.id,e,!0),s=f(i);i&&i!==n.id&&(b(s.id)||(s.parentTaskId=n.id),s.projectId=e,a({projects:l(),tasks:m()}),J())})(r,n,e),t.classList.remove("drag-over-subtarget")})})(e,t,n);const{titleContainer:r,taskTitle:o}=O(t,n);e.append(r);const i=P(t,o);return e.append(i),e},M=t=>{const n=document.createElement("div");n.classList.add("task-list");const e=v(t).sort((t,n)=>t.order-n.order).filter(t=>!t.parentTaskId);return 0===e.length?n.append(E(t,null,!0,null)):e.forEach(e=>{n.append(E(t,e.id,!1,null));const r=N(e,t);if(n.append(r),!k(e.id)){const r=((t,n)=>{const e=h(t.id).sort((t,n)=>t.order-n.order),r=document.createElement("div");if(r.classList.add("subtask-list"),e.forEach(e=>{r.append(E(n,e.id,!1,t.id));const a=N(e,n);a.classList.add("subtask"),r.append(a)}),e.length>0){const a=e[e.length-1];r.append(E(n,a.id,!0,t.id))}else r.append(E(n,t.id,!0,t.id));return r})(e,t);n.append(r)}n.append(E(t,e.id,!0,null))}),n},B=t=>{const n=document.createElement("div");n.classList.add("project-column");const e=(t=>{const n=document.createElement("h2"),e=(t=>{const n=document.createElement("span");return n.classList.add("project-title"),n.innerText=t.title,n})(t),r=((t,n)=>{const e=document.createElement("span");e.classList.add("project-controls");const r=D([{label:"Edit",onClick:()=>H(t,n)},{label:"Delete",onClick:()=>U(t.id)}]);return e.append(r),e})(t,e);return n.append(e,r),n})(t);((t,n)=>{t.setAttribute("draggable","true"),t.dataset.projectId=n.id,t.addEventListener("dragstart",t=>{t.target.closest(".task")?t.preventDefault():((t,n)=>{t.dataTransfer.setData("text/plain",JSON.stringify({draggedProjectId:n}))})(t,n.id)}),t.addEventListener("dragleave",t=>{}),t.addEventListener("drop",t=>{})})(e,t);const r=M(t.id),o=(t=>{const n=document.createElement("input");return n.type="text",n.addEventListener("keypress",e=>((t,n,e)=>{if("Enter"!==t.key)return;const r=e.value.trim();if(!r)return;const o=p({title:r,projectId:n.id,parentTaskId:null});u(o),a(),J(),e.value=""})(e,t,n)),n})(t);return n.append(e,r,o),n},J=()=>{const t=document.getElementById("app");t.innerHTML="";const n=l().filter(t=>!t.hidden);if(n.length>0){const e=x(n[0].id,!1);t.append(e)}n.forEach(n=>{const e=B(n),r=x(n.id,!0);t.append(e,r)}),(()=>{const t=document.getElementById("project-list");t.innerHTML="",l().forEach(n=>{const e=document.createElement("li");e.textContent=n.title,e.classList.add("sidebar-project-item"),e.dataset.projectId=n.id,n.hidden&&e.classList.add("project-hidden"),e.addEventListener("click",()=>{(t=>{const n=c(t);n.hidden=!n.hidden,a({projects:l(),tasks:m()})})(n.id),J()}),t.appendChild(e)})})()},W=(t,n,e)=>{const r=l(),o=r.find(n=>n.id===t);if(!o)return;const i=r.indexOf(o);-1!==i&&r.splice(i,1);const s=r.findIndex(t=>t.id===n)+(e?1:0);r.splice(s,0,o),r.forEach((t,n)=>t.order=n),a({projects:r}),J()},$=t=>{const n=m().find(n=>n.id===t),e=s(n.title);d(e),n.projectId=e.id,h(t).forEach(t=>{t.projectId=e.id,t.parentTaskId=null}),z(t),a(),J()},U=t=>{(t=>{v(t).forEach(t=>g(t.id));const n=o.findIndex(n=>n.id===t);n>-1&&o.splice(n,1)})(t),a(),J()},H=(t,n)=>{const e=document.createElement("input");e.classList.add("edit-title-input"),e.value=t.title,n.replaceWith(e),e.focus(),e.addEventListener("keydown",n=>((t,n,e)=>{if("Enter"===t.key){if(!e.value||""===e.value.trim())return void J();n.title=e.value.trim(),a(),J()}"Escape"===t.key&&J()})(n,t,e))};var q=e(72),F=e.n(q),R=e(825),_=e.n(R),G=e(659),K=e.n(G),Q=e(56),V=e.n(Q),X=e(540),Y=e.n(X),Z=e(113),tt=e.n(Z),nt=e(208),et={};et.styleTagTransform=tt(),et.setAttributes=V(),et.insert=K().bind(null,"head"),et.domAPI=_(),et.insertStyleElement=Y(),F()(nt.A,et),nt.A&&nt.A.locals&&nt.A.locals,(()=>{y();const{projects:t=[],tasks:n=[]}=(()=>{const t=localStorage.getItem("todoData");if(!t)return{projects:[],tasks:[]};const n=JSON.parse(t);return{projects:n?.projects||[],tasks:n?.tasks||[]}})();if(0===t.length){const t=s("Demo Project");d(t),a({projects:l(),tasks:m()})}t.forEach(d),n.forEach(u),(()=>{const t=document.getElementById("add-project-btn");t.addEventListener("click",()=>{const n=document.createElement("input");n.id="add-project-input",t.replaceWith(n),n.focus(),n.addEventListener("keydown",e=>((t,n,e)=>{if("Enter"===t.key){if(!n.value||""===n.value.trim())return void n.replaceWith(e);const t=s(n.value);d(t),a(),J(),n.replaceWith(e)}"Escape"===t.key&&(J(),n.replaceWith(e))})(e,n,t))})})(),J(),M(),(()=>{const t=document.getElementById("sidebar-toggle"),n=document.getElementById("sidebar"),e=document.body;t.addEventListener("click",()=>{n.classList.toggle("collapsed"),e.classList.toggle("sidebar-collapsed");const r=n.classList.contains("collapsed");t.textContent=r?"☰":"«"})})(),(()=>{const t=document.getElementById("theme-toggle"),n=localStorage.getItem("theme")||"dark";document.body.setAttribute("data-theme",n),t.addEventListener("click",()=>{const t="dark"===document.body.getAttribute("data-theme")?"light":"dark";document.body.setAttribute("data-theme",t),localStorage.setItem("theme",t)})})()})()})();